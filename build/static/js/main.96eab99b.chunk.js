(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{64:function(e,t,c){},65:function(e,t,c){},76:function(e,t,c){"use strict";c.r(t);var n,i,a,s,r,l=c(1),o=c.n(l),d=c(49),u=c.n(d),j=(c(64),c(86)),b=(c(65),c(4)),m=c(30),x=c(56),f=c(88),O=c(90),h="token",p=c(51),v=localStorage.getItem(h),g=Object(m.c)(Boolean(v)),k=Object(m.c)(v),y=Object(x.a)({uri:"http://52.79.110.225:80/graphql"}),C=Object(p.a)((function(e,t){var c=t.headers;return{headers:Object(b.a)(Object(b.a)({},c),{},{"x-jwt":k()||""})}})),N=new f.a({link:C.concat(y),cache:new O.a({typePolicies:{Query:{fields:{isLoggedIn:{read:function(){return g()}},token:{read:function(){return k()}}}}}})}),w=c(23),L=c(10),I=c(13),S=c(19),q=c(89),M=c(91),A=c(93),P=c(29),$=c(2),T=function(e){var t=e.canClick,c=(e.loading,e.actionText);return Object($.jsx)("button",{className:"text-lg font-medium focus:outline-none text-white py-3  px-4  transition-colors ".concat(t?"bg-blue-400 hover:bg-blue-500":"bg-gray-300 pointer-events-none "),children:c})},E=Object(q.a)(n||(n=Object(S.a)(["\n  query meQuery {\n    me {\n      id\n      email\n    }\n  }\n"]))),V=Object(q.a)(i||(i=Object(S.a)(["\n  mutation createCheckListMutation(\n    $createCheckListInput: CreateCheckListInput!\n  ) {\n    createCheckList(input: $createCheckListInput) {\n      ok\n      error\n    }\n  }\n"]))),B=Object(q.a)(a||(a=Object(S.a)(["\n  query allCheckListsQuery {\n    allCheckLists {\n      error\n      ok\n      checkLists {\n        id\n        title\n        checked\n        profit\n        difficulty\n        urgency\n      }\n    }\n  }\n"]))),F=Object(q.a)(s||(s=Object(S.a)(["\n  mutation editCheckListMutation($editCheckListInput: EditCheckListInput!) {\n    editCheckList(input: $editCheckListInput) {\n      ok\n      error\n    }\n  }\n"]))),Q=Object(q.a)(r||(r=Object(S.a)(["\n  mutation deleteCheckListMutation(\n    $deleteCheckListInput: DeleteCheckListInput!\n  ) {\n    deleteCheckList(input: $deleteCheckListInput) {\n      ok\n      error\n    }\n  }\n"]))),R=function(){var e,t=Object(M.a)(E),c=t.data,n=t.loading,i=Object(M.a)(B),a=i.data,s=i.loading,r=i.refetch,o=Object(P.a)({mode:"onChange"}),d=o.register,u=o.handleSubmit,j=o.getValues,m=o.formState,x=o.reset,f=function(){r()},O=Object(A.a)(V,{onCompleted:f}),p=Object(I.a)(O,2),v=p[0],y=(p[1].data,Object(A.a)(F,{onCompleted:f})),C=Object(I.a)(y,2),N=C[0],w=(C[1].data,Object(A.a)(Q,{onCompleted:f})),L=Object(I.a)(w,2),S=L[0],q=(L[1].data,Object(l.useState)(null===a||void 0===a||null===(e=a.allCheckLists.checkLists)||void 0===e?void 0:e.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{value:0})})))),R=Object(I.a)(q,2),z=R[0],D=R[1],J=Object(l.useState)([{title:"\uc644\ub8cc\ub428",isClicked:!1},{title:"\uc0dd\uc131\uc21c",isClicked:!0},{title:"\uc608\uc0c1\uc774\uc775\uc21c",isClicked:!1},{title:"\uc26c\uc6c0\uc815\ub3c4\uc21c",isClicked:!1},{title:"\uae34\uae09\ub3c4\uc21c",isClicked:!1},{title:"\uc6b0\uc120\uc21c\uc704\uc21c",isClicked:!1}]),Z=Object(I.a)(J,2),G=Z[0],H=Z[1];Object(l.useEffect)((function(){var e,t,c=null===a||void 0===a||null===(e=a.allCheckLists.checkLists)||void 0===e?void 0:e.slice(0,null===a||void 0===a||null===(t=a.allCheckLists.checkLists)||void 0===t?void 0:t.length).map((function(e){return Object(b.a)(Object(b.a)({},e),{},{value:e.profit+e.difficulty+e.urgency})})),n=null===c||void 0===c?void 0:c.filter((function(e){return e.checked})),i=null===c||void 0===c?void 0:c.filter((function(e){return!e.checked})),s=null===c||void 0===c?void 0:c.sort((function(e,t){return e.profit>t.profit?-1:e.profit<t.profit?1:0})).filter((function(e){return!e.checked})),r=null===c||void 0===c?void 0:c.sort((function(e,t){return e.difficulty>t.difficulty?-1:e.difficulty<t.difficulty?1:0})).filter((function(e){return!e.checked})),l=null===c||void 0===c?void 0:c.sort((function(e,t){return e.urgency>t.urgency?-1:e.urgency<t.urgency?1:0})).filter((function(e){return!e.checked})),o=null===c||void 0===c?void 0:c.sort((function(e,t){return e.value>t.value?-1:e.value<t.value?1:0})).filter((function(e){return!e.checked})),d=G.map((function(e){return e.isClicked})).indexOf(!0);0===d?D(n):1===d?D(i):2===d?D(s):3===d?D(r):4===d?D(l):5===d&&D(o)}),[a,s,G]);return Object($.jsxs)("section",{children:[Object($.jsxs)("div",{className:"mt-2 mb-10 flex gap-4 justify-end mr-6 text-gray-900",children:[Object($.jsx)("h1",{children:null===c||void 0===c?void 0:c.me.email}),Object($.jsx)("button",{onClick:function(){localStorage.removeItem(h),k(""),g(!1)},children:"\ub85c\uadf8\uc544\uc6c3"})]}),Object($.jsx)("div",{className:"flex justify-center items-center",children:Object($.jsxs)("div",{className:"text-5xl font-black mb-4",children:[Object($.jsx)("span",{className:"text-blue-500",children:"Ranking"})," ",Object($.jsx)("span",{className:"text-gray-900",children:"Todo"})]})}),Object($.jsx)("div",{className:"flex justify-center mt-12",children:Object($.jsxs)("form",{onSubmit:u((function(){var e=j(),t=e.title,c=e.profit,n=e.difficulty,i=e.urgency;v({variables:{createCheckListInput:{title:t,profit:+c,difficulty:+n,urgency:+i}}}),x()})),className:"flex gap-x-2 ",children:[Object($.jsx)("input",Object(b.a)(Object(b.a)({},d("title",{required:"\uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4 "})),{},{required:!0,placeholder:"\ud560\uc77c",className:"input w-96"})),Object($.jsx)("input",Object(b.a)(Object(b.a)({},d("profit")),{},{type:"number",placeholder:"\uc608\uc0c1\uc774\uc775",min:"0",max:"10",className:"inputSmall w-24"})),Object($.jsx)("input",Object(b.a)(Object(b.a)({},d("difficulty")),{},{type:"number",placeholder:"\uc26c\uc6c0\uc815\ub3c4",min:"0",max:"10",className:"inputSmall w-24"})),Object($.jsx)("input",Object(b.a)(Object(b.a)({},d("urgency")),{},{type:"number",placeholder:"\uae34\uae09\ub3c4",min:"0",max:"10",className:"inputSmall w-24"})),Object($.jsx)(T,{canClick:m.isValid,loading:n,actionText:"\ub4f1\ub85d"})]})}),Object($.jsx)("div",{children:Object($.jsx)("div",{className:" max-w-screen-md mx-auto flex justify-end mt-2 text-gray-400",children:"\ub7ad\ud0b9 \uc218\uce58\ub294 1\ubd80\ud130 10\uae4c\uc9c0 \uc785\ub825\uac00\ub2a5\ud569\ub2c8\ub2e4."})}),Object($.jsx)("div",{className:" max-w-screen-md mx-auto  mt-10 text-lg pr-12",children:Object($.jsx)("ul",{className:"flex justify-end gap-x-2",children:G.map((function(e,t){return Object($.jsx)("li",{className:"cursor-pointer rounded px-2 py-1 transition duration-100 ".concat(e.isClicked?"bg-blue-400 text-white font-bold":""),onClick:function(){!function(e){H(G.map((function(t,c){return c===e?Object(b.a)(Object(b.a)({},t),{},{isClicked:!0}):Object(b.a)(Object(b.a)({},t),{},{isClicked:!1})})))}(t)},children:e.title})}))})}),Object($.jsx)("ul",{className:"flex flex-col items-center text-lg mt-6 mb-10 gap-4",children:null===z||void 0===z?void 0:z.map((function(e){return Object($.jsx)("li",{className:"flex justify-center",style:{width:"50rem"},children:Object($.jsxs)("div",{className:"flex w-full",children:[Object($.jsxs)("div",{className:"flex gap-5 border px-4  rounded-md ",children:[Object($.jsxs)("div",{className:"w-10 cursor-pointer flex justify-center",onClick:function(){var t,c;t=e.id,c=Boolean(e.checked),N(c?{variables:{editCheckListInput:{checkListId:t,checked:!1}}}:{variables:{editCheckListInput:{checkListId:t,checked:!0}}})},children:[" ",e.checked?Object($.jsx)("i",{className:"far fa-check-circle flex justify-center items-center text-2xl pt-px text-gray-700"}):Object($.jsx)("i",{className:"far fa-circle flex justify-center items-center text-2xl pt-px text-gray-700"})]}),Object($.jsxs)("div",{className:"w-80 mr-20  py-3 flex items-center ",children:[" ",e.title]}),Object($.jsxs)("div",{className:"flex flex-col items-end py-2 mr-3",children:[Object($.jsxs)("div",{className:"w-24 flex justify-end font-bold text-blue-600 text-base",children:["\uac00\uce58: ",e.value]}),Object($.jsxs)("div",{className:"flex justify-end gap-x-3 text-sm text-gray-600 w-60",children:[Object($.jsxs)("div",{children:["\uc608\uc0c1\uc774\uc775: ",e.profit]}),Object($.jsxs)("div",{children:["\uc26c\uc6c0\uc815\ub3c4: ",e.difficulty]}),Object($.jsxs)("div",{children:["\uae34\uae09\ub3c4: ",e.urgency]})]})]})]}),Object($.jsx)("div",{className:"flex juce items-center cursor-pointer",onClick:function(){S({variables:{deleteCheckListInput:{checkListId:e.id}}})},children:Object($.jsx)("i",{className:"far fa-trash-alt flex justify-center items-center text-xl pt-px text-gray-700 px-3"})})]})},e.id)}))})]})};function z(){return Object($.jsx)(w.a,{children:Object($.jsx)(L.c,{children:Object($.jsx)(L.a,{path:"/",children:Object($.jsx)(R,{})})})})}var D,J,Z=c(40),G=function(e){var t=e.canClick,c=(e.loading,e.actionText);return Object($.jsx)("button",{className:"text-lg font-medium focus:outline-none text-white py-4  transition-colors ".concat(t?"bg-blue-400 hover:bg-blue-500":"bg-gray-300 pointer-events-none "),children:c})},H=function(e){var t=e.errorMessage;return Object($.jsx)("span",{className:"font-medium text-red-500",children:t})},K=Object(q.a)(D||(D=Object(S.a)(["\n  mutation createAccountMutation($createAccountInput: CreateAccountInput!) {\n    createAccount(input: $createAccountInput) {\n      ok\n      error\n    }\n  }\n"]))),U=function(){var e,t,c,n,i,a,s=Object(P.a)({mode:"onChange"}),r=s.register,l=s.getValues,o=s.handleSubmit,d=s.formState,u=s.formState.errors,j=Object(L.f)(),m=Object(A.a)(K,{onCompleted:function(e){e.createAccount.ok&&j.push("/login")}}),x=Object(I.a)(m,2),f=x[0],O=x[1],h=O.loading,p=O.data;return Object($.jsxs)("div",{className:"h-screen flex items-center flex-col mt-10 lg:mt-28",children:[Object($.jsx)(Z.a,{children:Object($.jsx)("title",{children:"Create Account | Nuber Eats"})}),Object($.jsxs)("div",{className:"w-full max-w-screen-sm flex flex-col px-5 items-center",children:[Object($.jsxs)("div",{className:"text-5xl font-black mb-10",children:[Object($.jsx)("span",{className:"text-blue-500",children:"Ranking"})," ",Object($.jsx)("span",{className:"text-gray-900",children:"Todo"})]}),Object($.jsx)("h4",{className:"w-full font-medium text-left text-2xl mb-2",children:"\ud68c\uc6d0\uac00\uc785\ud558\uace0 \ub7ad\ud0b9\ud22c\ub450\ub97c \uc2dc\uc791\ud574\ubcf4\uc138\uc694!"}),Object($.jsxs)("form",{onSubmit:o((function(){if(!h){var e=l(),t=e.email,c=e.password;f({variables:{createAccountInput:{email:t,password:c}}})}})),className:"grid gap-3 mt-5 w-full mb-5",children:[Object($.jsx)("input",Object(b.a)(Object(b.a)({},r("email",{required:"Email is required",pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/})),{},{required:!0,type:"email",placeholder:"Email",className:"input"})),(null===(e=u.email)||void 0===e?void 0:e.message)&&Object($.jsx)(H,{errorMessage:null===(t=u.email)||void 0===t?void 0:t.message}),"pattern"===(null===(c=u.email)||void 0===c?void 0:c.type)&&Object($.jsx)(H,{errorMessage:"Please enter a valid email"}),Object($.jsx)("input",Object(b.a)(Object(b.a)({},r("password",{required:"Password is required"})),{},{required:!0,type:"password",placeholder:"Password",className:"input"})),(null===(n=u.password)||void 0===n?void 0:n.message)&&Object($.jsx)(H,{errorMessage:null===(i=u.password)||void 0===i?void 0:i.message}),"minLength"===(null===(a=u.password)||void 0===a?void 0:a.type)&&Object($.jsx)(H,{errorMessage:"Password must be more than 10 chars."}),Object($.jsx)(G,{canClick:d.isValid,loading:h,actionText:"Create Account"}),(null===p||void 0===p?void 0:p.createAccount.error)&&Object($.jsx)(H,{errorMessage:p.createAccount.error})]}),Object($.jsxs)("div",{children:["\uc774\ubbf8 \uacc4\uc815\uc774 \uc788\uc73c\uc2e0\uac00\uc694?"," ",Object($.jsx)(w.b,{to:"/login",className:"text-blue-600 hover:underline",children:"\ub85c\uadf8\uc778 \ud558\ub7ec \uac00\uae30 \u2192"})]})]})]})},W=Object(q.a)(J||(J=Object(S.a)(["\n  mutation loginMutation($loginInput: LoginInput!) {\n    login(input: $loginInput) {\n      ok\n      error\n      token\n    }\n  }\n"]))),X=function(){var e,t,c,n,i,a,s=Object(P.a)({mode:"onChange"}),r=s.register,l=s.handleSubmit,o=s.getValues,d=s.formState,u=s.formState.errors,j=Object(A.a)(W,{onCompleted:function(e){var t=e.login,c=t.ok,n=t.token;c&&n&&(localStorage.setItem(h,n),k(n),g(!0))}}),m=Object(I.a)(j,2),x=m[0],f=m[1],O=f.data,p=f.loading;return Object($.jsxs)("div",{className:"h-screen flex items-center flex-col mt-10 lg:mt-28",children:[Object($.jsx)(Z.a,{children:Object($.jsx)("title",{children:"Login | Nuber Eats"})}),Object($.jsxs)("div",{className:"w-full max-w-screen-sm flex flex-col px-5 items-center",children:[Object($.jsxs)("div",{className:"text-5xl font-black mb-10",children:[Object($.jsx)("span",{className:"text-blue-500",children:"Ranking"})," ",Object($.jsx)("span",{className:"text-gray-900",children:"Todo"})]}),Object($.jsxs)("form",{onSubmit:l((function(){if(!p){var e=o(),t=e.email,c=e.password;x({variables:{loginInput:{email:t,password:c}}})}})),className:"grid gap-3 mt-5 w-full mb-5",children:[Object($.jsx)("input",Object(b.a)(Object(b.a)({},r("email",{required:"Email is required"})),{},{required:!0,type:"email",placeholder:"Email",className:"input"})),(null===(e=u.email)||void 0===e?void 0:e.message)&&Object($.jsx)(H,{errorMessage:null===(t=u.email)||void 0===t?void 0:t.message}),"pattern"===(null===(c=u.email)||void 0===c?void 0:c.type)&&Object($.jsx)(H,{errorMessage:"Please enter a valid email"}),Object($.jsx)("input",Object(b.a)(Object(b.a)({},r("password",{required:"Password is required"})),{},{required:!0,type:"password",placeholder:"Password",className:"input"})),(null===(n=u.password)||void 0===n?void 0:n.message)&&Object($.jsx)(H,{errorMessage:null===(i=u.password)||void 0===i?void 0:i.message}),"minLength"===(null===(a=u.password)||void 0===a?void 0:a.type)&&Object($.jsx)(H,{errorMessage:"Password must be more than 10 chars."}),Object($.jsx)(G,{canClick:d.isValid,loading:p,actionText:"Log in"}),(null===O||void 0===O?void 0:O.login.error)&&Object($.jsx)(H,{errorMessage:O.login.error})]}),Object($.jsxs)("div",{children:["\ub7ad\ud0b9 \ud22c\ub450\uac00 \ucc98\uc74c\uc774\uc2e0\uac00\uc694?"," ",Object($.jsx)(w.b,{to:"/create-account",className:"text-blue-600 hover:underline",children:"\ud68c\uc6d0\uac00\uc785 \ud558\ub7ec\uac00\uae30 \u2192"})]})]})]})};function Y(){return Object($.jsx)(w.a,{children:Object($.jsxs)(L.c,{children:[Object($.jsx)(L.a,{path:"/create-account",children:Object($.jsx)(U,{})}),Object($.jsx)(L.a,{path:"/",children:Object($.jsx)(X,{})})]})})}var _=function(){return Object(j.a)(g)?Object($.jsx)(z,{}):Object($.jsx)(Y,{})},ee=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,94)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),i(e),a(e),s(e)}))},te=c(87);u.a.render(Object($.jsx)(o.a.StrictMode,{children:Object($.jsx)(te.a,{client:N,children:Object($.jsx)(_,{})})}),document.getElementById("root")),ee()}},[[76,1,2]]]);
//# sourceMappingURL=main.96eab99b.chunk.js.map